# Session 02: コンテキストを活用した機能追加～優先度フィルター実装

## 📌 このセッションで学ぶこと

- Claudeに「何をしたい」を伝えれば、実装まで完結する効率性
- CLAUDE.md コンテキストがあれば、詳細指示は不要
- 要件説明 → 実装 → テスト のサイクルの実践

---

## 🎯 セッション概要

| ステップ   | 目的                   | 所要時間 |
| ---------- | ---------------------- | -------- |
| ステップ 1 | Claudeに機能要件を説明 | 5 分     |
| ステップ 2 | 動作確認               | 10 分    |

**合計：約 15 分**

---

## ステップ 1: 優先度フィルター機能を Claudeに依頼

### 🎯 目的

チケット一覧に優先度フィルター機能を追加してもらいます。要件を説明するだけで、実装とテストはすべて Claudeが担当します。

### 💬 参加者の操作

```
1. ClaudeCode チャットを開く
   ↓
2. 以下をコピペして送信：

   「チケット一覧ページに優先度フィルター機能を追加してください。

    要件：
    - /tickets ページにドロップダウンを追加
    - LOW / MEDIUM / HIGH で絞り込める
    - 初期状態は「すべて表示」
    - 優先度セレクトで選択すると、該当チケットのみ表示

    実装とテストをお願いします」

   ↓

3. Claudeが実装 + テスト作成を完了
```

### 📚 何が起きているのか

Claudeは CLAUDE.md から既に知っています：

- 📁 `app/tickets/page.tsx` がチケット一覧ページ
- 📦 `lib/data/tickets.ts` にクエリ関数がある
- 📊 Prisma モデルに `priority` フィールドがある
- 🏗️ プロジェクト全体のパターン

**だから、要件だけで十分。細かい指示は不要です。**

### 💡 学習ポイント

- 🚀 **効率化の実感：** 実装の詳細を自分で調べなくてもいい
- 📝 **要件が最重要：** 「何をしたいか」さえ伝われば、Claudeが全部対応
- 🧠 **コンテキストの力：** CLAUDE.md があると、曖昧な説明で正確な実装が可能

---

## ステップ 2: 動作確認

### 🎯 目的

実装とテストが正しく動いているか確認します。

### 💬 参加者の操作

```
1. 開発サーバーを起動：
   npm run dev

   ↓

2. http://localhost:3000/tickets を開く

   ↓

3. 優先度ドロップダウンで LOW / MEDIUM / HIGH を選択
   → 該当チケットだけ表示されることを確認

   ↓

4. テストを実行：
   npm test -- e2e/ticket-list.spec.ts

   ↓

5. テストが PASS することを確認
```

### 📚 何を学ぶのか

- ✅ 機能が要件通り動いているか、実際に確認することの重要性
- 🔄 テストで品質を担保する仕組み
- 🎯 「実装 → 確認 → テスト」のサイクル

### 💡 学習ポイント

- ⚡ **自動テスト：** 手動確認だけでなく、テストで確実に保証
- 🔍 **問題発見：** 動かないときは、Claudeに「〇〇が動きません」と伝えるだけ
- 🚀 **品質維持：** テストがあれば、後で機能追加しても安心

### 🎲 もしテストが FAIL した場合

```
❌ テスト失敗

↓

チャットで Claudeに伝える：
「優先度フィルターのテストが FAIL しています。
 修正してもらえますか？」

↓

Claudeが原因を調査・実装を修正

↓

再度テスト実行：
npm test -- e2e/ticket-list.spec.ts

↓

✅ テスト PASS
```

**ポイント：** 失敗原因を自分で調査する必要なし。Claudeに状況を伝えれば、修正まで対応してくれます。

---

## ✅ セッション完了チェック

- [ ] Claudeに優先度フィルター機能の要件を説明した
- [ ] http://localhost:3000/tickets で優先度ドロップダウンが見える
- [ ] ドロップダウンで優先度を選択して、正しく絞り込まれることを確認した
- [ ] npm test でテストが全て PASS したことを確認した

---

## 📌 次のセッションへ向けて

次のセッション（Session 03）では、**より複雑な機能開発** に挑戦します：

- **複数の関連機能** を一度に実装
- **Claudeのプランモード** を使って、大きな要件を段階的に実装
- **複雑な E2E テスト** の設計

Session 02 の「要件 → 実装 → テスト」パターンを、Session 03 ではプランモードで **計画的に進める方法** を学びます。
