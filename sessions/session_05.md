# Session 05: 応用編～ClaudeCode を使いこなす

## 📌 このセッションで学ぶこと

- **Session 01-04 で習得したスキルを実際に応用**
- ClaudeCode の高度な機能（MCP、スラッシュコマンド、hook）
- 自分の開発スタイルに合わせた ClaudeCode カスタマイズ
- 「何か足りない」を「ClaudeCode で解決」する思考

---

## 🎯 セッション概要

| ステップ   | 目的                           |
| ---------- | ------------------------------ |
| ステップ 1 | 応用編への導き                 |
| ステップ 2 | 自由実装パート（参加者が選択） |
| ステップ 3 | Claudeとの要件説明の試行錯誤   |
| ステップ 4 | ClaudeCode 高度な機能紹介      |
| ステップ 5 | 次のステップ                   |

---

## ステップ 1: 応用編への導き

### 🎯 目的

Session 01-04 までで、ClaudeCode の基本から実務的な使い方まで習得しました。ここからは、**あなたの開発にカスタマイズ** して使う段階に進みます。

### 💬 参加者の操作

```
特にやることはありません。以下を理解してください：
```

### 📚 ここまでのおさらい

| セッション | 学んだこと                        | 実績                   |
| ---------- | --------------------------------- | ---------------------- |
| Session 01 | コンテキスト自動生成（CLAUDE.md） | 「何をするアプリ」把握 |
| Session 02 | シンプルな機能追加                | 優先度フィルター実装   |
| Session 03 | 複雑な機能開発（プランモード）    | カレンダー機能実装     |
| Session 04 | ドキュメント生成（自動化）        | 仕様書・図表生成       |

### 💡 Session 05 のポイント

```
Session 01-04：「こんなことできるんだ」という発見

Session 05：「自分のやり方でカスタマイズしよう」という応用
```

この段階では、以下の 2 つを体験します：

1. **自由実装** - あなたが「作りたい」と思った機能を実装
2. **機能紹介** - ClaudeCode の高度な機能を知って、「試してみたい」という興味を引き出す

---

## ステップ 2: 自由実装パート

### 🎯 目的

Session 01-04 で学んだ技術を活かして、自分で選んだ機能を実装します。やる気と時間が続く限り、複数個実装してもOK です。

### 💬 参加者の操作

```
1. 以下の 3 つのパターンから、1～2 個を選択
2. ClaudeCode チャットを開く
3. 要件を説明して、実装を依頼
4. テストと動作確認を実施
```

### 📋 実装パターン選択肢

#### パターン A: 既存機能の拡張

**A-1: 複数フィルタの組み合わせ**

チケット一覧で複数条件でフィルター：

```
要件例：
- ステータス + 優先度 + 担当者で同時フィルター
- フィルター条件を URL に保存（ブックマーク可能に）
- フィルター結果の件数を表示
```

**A-2: ソート機能の追加**

チケット一覧を複数条件でソート：

```
要件例：
- 期限日でソート
- 最終更新日でソート
- コメント数でソート
- 複数条件の組み合わせソート
```

#### パターン B: 新規ページ・機能

**B-1: ユーザープロフィールページ**

ユーザー管理画面：

```
要件例：
- /users ページで全ユーザー表示
- /users/[id] でプロフィール詳細
- ユーザーが作成したチケット一覧
- ユーザー情報の編集機能
```

**B-2: 通知機能**

チケット変更時の通知：

```
要件例：
- 自分が作成したチケットに新規コメント → 通知
- 担当しているチケットがステータス変更 → 通知
- 通知一覧表示
- 通知既読管理
```

#### パターン C: UI/UX 改善

**C-1: ダークモード実装**

ダークテーマ対応：

```
要件例：
- Tailwind CSS の dark: プリフィックス活用
- トグルボタンで切り替え
- ユーザーの選択を保存（localStorage）
- 全ページでダークモード対応
```

**C-2: ページネーション**

チケット一覧をページング表示：

```
要件例：
- 1 ページあたり 10-20 件表示
- 「前へ」「次へ」ナビゲーション
- ページ番号の直接入力
- URL にページ番号を含める
```

### 💡 実装のコツ

**最初の 1-2 分：Claudeに要件を説明**

```
「チケットにタグ機能を追加したい。

要件：
- Prisma スキーマに Tag モデル追加
- チケット作成・編集フォームにタグセレクト
- チケット一覧にタグバッジ表示

実装とテストをお願いします」
```

**注意点：**

- 「完全な仕様書」は不要（CLAUDE.md がコンテキストにあるから）
- 「やりたいこと」だけ伝える
- 細かい指示は Claude に任せる

### 📚 進行フロー

```
1. 要件説明（2分）
   ↓
2. Claude が実装（5-7分、自動で進行）
   ↓
3. テスト確認（2-3分）
   ├→ npm run dev で動作確認
   ├→ npm test でテスト実行
   └→ ブラウザで確認
   ↓
4. 完了！次の実装へ or 機能紹介へ
```

---

## ステップ 3: Claudeとの要件説明の試行錯誤

### 🎯 目的

実装を進める中で、**Claudeへの要件説明の方法を試行錯誤** してみましょう。簡潔な説明と詳細な説明では、実装結果がどう変わるか体験することが目的です。

### 💡 実験内容

同じ機能について、異なる説明方法を試してみてください：

#### 実験 1: 簡潔な説明

```
「チケット一覧にダークモード対応してください」
```

↓ 実装・動作確認 ↓

**結果を観察：**

- 実装の速度は？
- 実装の質は？
- 想定外の挙動は？

#### 実験 2: 詳細な説明

```
「チケット一覧にダークモード機能を追加してください。

詳細な要件：
- トグルボタンを header に配置
- Tailwind の dark: プリフィックスを活用
- ユーザーの選択を localStorage に保存
- ページ遷移後も設定を保持
- 初回訪問時はシステム設定に合わせる

実装方法の指針：
- useContext で theme state を管理
- app/layout.tsx で Provider を設定
- すべての color class を dark: 対応に
"""
```

↓ 実装・動作確認 ↓

**結果を観察：**

- 実装の速度は？
- 実装の質は？
- 期待通りの挙動は？

### 📊 比較してみる

実装後、以下を確認して比較メモを取ってください：

| 項目               | 簡潔な説明 | 詳細な説明 |
| ------------------ | ---------- | ---------- |
| 実装時間           | ?          | ?          |
| 修正の必要性       | あり/なし  | あり/なし  |
| コード品質         | ?          | ?          |
| 後から追加修正の量 | ?          | ?          |

### 💡 気づきのポイント

```
✅ 観察しておくこと：
- 簡潔すぎると、実装が不完全な場合がある
- 詳細すぎると、実装に時間がかかる
- 「適切なバランス」はどこか？
- あなたのプロジェクトでは、どの説明方法が効率的か？
```

### 🎯 学習の狙い

```
「Claudeとのコミュニケーション」も、スキルの一部です。
試行錯誤を通じて、「最適な説明方法」を見つけることが大事。
```

---

## ステップ 4: ClaudeCode 高度な機能紹介

Session 01-04 で基本をマスターしたあなたが、次に学べる高度な機能を紹介します。

「こんな機能があるんだ」から「試してみたい」に変えることが目的です。

### 3-1: MCP（Model Context Protocol）

#### 🎯 概要

**MCP は、Claude が外部データソースにアクセスする仕組みです。**

```
Claude だけでは：
- GitHub の issue データ ❌
- 外部 API のリアルタイム情報 ❌
- プロジェクト固有の DB ❌

MCP を使うと：
- GitHub の issue データ ✅（GitHub MCP で連携）
- Weather API のデータ ✅（Weather MCP）
- 自社 DB のクエリ ✅（カスタム MCP を作成）
```

#### 💡 実例

```
MCP なし：
「このプロジェクトの GitHub issue 一覧を見せて」
→ 「GitHub にアクセスできないので、手動で教えてください」

MCP あり（GitHub MCP を有効化）：
「このプロジェクトの GitHub issue 一覧を見せて」
→ Claude が自動的に GitHub API でデータ取得
→ issue 一覧を表示
→ その場で対応方法も提案
```

#### 🔧 仕組み

MCP サーバーは 3 つの接続方法をサポート：

```
1. Remote HTTP Servers
   → クラウド型の MCP サーバーに HTTP で接続

2. Remote SSE Servers
   → Server-Sent Events で接続

3. Local stdio Servers
   → ローカルのスクリプトを実行
```

#### 🌟 実用例

| 接続先         | できること                           |
| -------------- | ------------------------------------ |
| **GitHub**     | Issue・PR の取得・管理、レビュー支援 |
| **Sentry**     | エラーログ分析、デバッグ支援         |
| **PostgreSQL** | DB クエリ実行、データ確認            |
| **Slack**      | メッセージ取得・送信                 |
| **カスタム**   | 自社 CMS、監視ツール、社内 DB など   |

#### 📚 学習リソース

- **公式ドキュメント:** [ClaudeCode MCP](https://code.claude.com/docs/ja/mcp)
- **MCP サーバー一覧:** [MCP Public Servers](https://mcpservers.org/)
- **カスタム MCP 作成ガイド:** [Building an MCP Server](https://modelcontextprotocol.io/docs/develop/build-server)

#### 🎯 チャレンジ

**MCP サーバーを有効化してみる：**

```
1. 公式ドキュメントで設定手順を確認
2. settings.json に MCP サーバーを追加
3. ClaudeCode を再起動
4. チャットで外部データにアクセスしてみる

例：「@GitHub のこのリポジの最新 issue を取得して」
```

---

### 3-2: スラッシュコマンド

#### 🎯 概要

**スラッシュコマンドは、プロジェクト固有のカスタムコマンドを作成できます。**

Session 01 で `/init`、`/help`、`/clear` を学びましたが、**あなたも新しいコマンドを作成** できます。

```
デフォルト：
- /init：プロジェクト解析
- /help：ヘルプ表示
- /clear：チャット履歴クリア

カスタム例：
- /setup：開発環境セットアップ手順を表示
- /test-run：テスト実行と結果リポート
- /pr-review：PR テンプレート自動生成
- /db-reset：開発 DB をリセット
```

#### 💡 実例

```
❌ 手作業：
毎回 npm run dev → http://localhost:3000 → 開く

✅ カスタムコマンド：
/start → 開発サーバー起動 + ブラウザ自動オープン
```

#### 🔧 実装の仕組み

スラッシュコマンドは **Markdown ファイル** として定義します：

**プロジェクトコマンド（`.claude/commands/` に保存）:**

```bash
mkdir -p .claude/commands
# コマンド毎に .md ファイルを作成
# 例：.claude/commands/test-run.md
```

**ユーザーコマンド（`~/.claude/commands/` に保存）:**

```bash
mkdir -p ~/.claude/commands
# ユーザーレベルのコマンド（全プロジェクト共通）
```

#### 💡 コマンドの種類

| タイプ                  | 機能                       | 例                        |
| ----------------------- | -------------------------- | ------------------------- |
| **Markdown プロンプト** | 定義済みプロンプト実行     | テンプレート、定型文      |
| **Bash コマンド**       | `!` プリフィックスで実行   | `!npm test`               |
| **ファイル参照**        | `@` で関連ファイルを含める | `@lib/actions/tickets.ts` |
| **引数対応**            | `$1`、`$2`、`$ARGUMENTS`   | パラメータ化コマンド      |

#### 🔧 簡単な実装例

**例 1: シンプルなプロンプトコマンド**

```markdown
# /optimize

このコードのパフォーマンスボトルネックを分析してください。
最適化提案も含めてください。
```

**例 2: Bash コマンド統合**

```markdown
# /test-run

---

## description: テストを実行して結果をレポート

!npm test

上記のテスト結果を分析して、以下をレポートしてください：

- 全体の成功率
- 失敗したテスト一覧
- 修正提案
```

**例 3: ファイル参照を含む**

```markdown
# /review-actions

@lib/actions/tickets.ts
@lib/actions/users.ts

上記のアクションコードをセキュリティレビューしてください。
```

#### 📚 学習リソース

- **公式ドキュメント:** [ClaudeCode スラッシュコマンド](https://code.claude.com/docs/ja/slash-commands)
- **コミュニティ例:** GitHub で「claude-code slash command」検索

#### 🎯 チャレンジ

**プロジェクトコマンドを作ってみる：**

```
1. mkdir -p .claude/commands を実行
2. .claude/commands/[command-name].md を作成
3. Markdown 形式でコマンド内容を定義
4. claude --continue で再起動
5. チャットで /command-name を実行してみる
```

---

### 3-3: hook（ClaudeCode のカスタムイベント）

#### 🎯 概要

**ClaudeCode の hook は、Claude の処理やツール実行時に「カスタム処理を挿入」できる仕組みです。**

特定のイベント発生時に自動実行される bash コマンドやスクリプトを定義できます。

```
hook なし：
Claude がコードを生成
   ↓
ユーザーが手動でテスト・フォーマット実行

hook あり：
Claude がコードを生成
   ↓
hook が自動実行（テスト実行、フォーマット適用など）
   ↓
自動化された状態でファイルが作成される
```

#### 💡 実例

| イベント             | hook の活用          | 効果                         |
| -------------------- | -------------------- | ---------------------------- |
| **PreToolUse**       | ツール実行前の検証   | 危険な操作をブロック         |
| **PostToolUse**      | ツール実行後の処理   | 自動フォーマット・テスト実行 |
| **UserPromptSubmit** | ユーザー入力時の処理 | 入力内容の検証               |
| **CodeGenerated**    | コード生成後の処理   | 品質チェック・自動化テスト   |

#### 🔧 実装例

hook は **settings.json** で定義します：

```json
{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "*.ts",
        "hooks": [
          {
            "type": "command",
            "command": "npm run format && npm run lint"
          }
        ]
      }
    ]
  }
}
```

#### 💡 設定のポイント

**matcher：** どのファイル・操作に対して hook を実行するか

- ファイルパターン: `*.ts`、`src/**/*.tsx`
- ツール名: `bash`、`edit`、`read` など

**type:** `command`（bash スクリプト）

**command：** 実行するコマンド

- 単一コマンド: `npm run format`
- 複数コマンド: `npm run format && npm run lint`

#### ⚠️ セキュリティに関する注意

```
⚠️ 重要：
- hook で実行するコマンドを慎重に選ぶ
- 信頼できるコマンドのみ実行
- 入力は必ずサニタイズする
- 本番環境で使用する前に十分テストする
```

#### 📚 学習リソース

- **公式ドキュメント:** [ClaudeCode Hooks](https://code.claude.com/docs/ja/hooks)
- **設定ファイル:** `~/.claude/settings.json` で hook 設定
- **参考例:** コミュニティの hook 実装例

#### 🎯 チャレンジ

**簡単な hook を設定してみる：**

```
1. ~/.claude/settings.json を開く（なければ作成）
2. "hooks" セクションを追加
3. PostToolUse で npm run format を自動実行
4. ClaudeCode を再起動
5. ファイル編集時に自動フォーマットされることを確認
```

---

## ステップ 5: 次のステップ

### 🎯 目的

Session 05 で学んだことを、今後の開発に活かすための指標を提示します。

### 📚 学習の進め方

#### レベル 1: 基本を定着させる（今ここ）

```
✅ Session 01-04 をマスター
✅ 日常開発で ClaudeCode を活用
✅ CLAUDE.md を常に参照

次：「これ、ClaudeCode でできるのか？」という試行錯誤
```

#### レベル 2: 自分のスタイルにカスタマイズ

```
→ スラッシュコマンドを 2-3 個作成
→ hook を有効化して自動化
→ MCP で外部データを活用

これで「自分だけの開発環境」が完成
```

#### レベル 3: チームで活用

```
→ CLAUDE.md をチーム内で共有
→ カスタムコマンドをチーム標準に
→ MCP で情報共有自動化

「チーム全体が効率化」という段階へ
```

### 🔗 参考リソース

#### ClaudeCode 公式

- [ClaudeCode Documentation](https://claude.com/claude-code)
- [Claude Agent SDK](https://github.com/anthropics/claude-agent-sdk)

#### MCP

- [MCP Official](https://modelcontextprotocol.io/)
- [Awesome MCP](https://mcpservers.org/)

#### hook・自動化

- [Husky](https://typicode.github.io/husky/)
- [lint-staged](https://github.com/okonet/lint-staged)
- [Pre-commit Framework](https://pre-commit.com/)

#### コミュニティ

- GitHub Discussions: ClaudeCode タグで質問・共有
- Twitter/X: #ClaudeCode で他のユーザーの活用事例を追跡

### 💡 重要なマインドセット

```
❌ 「完全に理解してから使う」
✅ 「試しながら理解する」

❌ 「公式ドキュメント全部読む」
✅ 「今必要な部分から始める」

❌ 「独学で完成させる」
✅ 「わからないことはコミュニティに聞く」
```

### 🎯 次のアクション

```
1. Session 05 で実装した機能を GitHub に push
2. 「ClaudeCode で実装した」というコミットメッセージ
3. 実装の過程をメモ（何が効率的だったか、課題は何か）
4. 2-3 週間後、その経験を踏まえて Session 02-04 を振り返る
```

---

## ✅ セッション完了チェック

- [ ] 自由実装パートで 1～2 個の機能を実装した
- [ ] 実装したコードをテストして動作確認した
- [ ] 簡潔な説明と詳細な説明の違いを試してみた
- [ ] 説明方法による実装結果の差を観察・メモした
- [ ] MCP について概要を理解した
- [ ] スラッシュコマンドについて概要を理解した
- [ ] hook（ClaudeCode のカスタムイベント）について概要を理解した
- [ ] 「次に試してみたい」という機能が 1 つ以上ある

---

## 💾 セッション完了後のコミット

**Session 05 で実装した機能と学習内容を Git に保存しておきましょう。**

```bash
# 変更を確認
git status

# 実装を追加
git add .

# Session 05 完了時点をコミット
git commit -m "feat: Session 05 complete - advanced features and customization

- Implemented 1-2 custom features (dark mode, pagination, etc.)
- Experimented with prompt explanation methods
- Documented comparison of concise vs detailed requirements
- Reviewed MCP, slash commands, and hooks
- Identified next learning priorities"

# 進捗確認
git log --oneline
```

---

## 📌 このセッションで学んだこと

- 🚀 **自由実装の経験：** 要件定義 → 実装 → テストの一連を習得
- 🔧 **高度な機能の存在認識：** MCP、スラッシュコマンド、hook の可能性
- 🎯 **「何かしたい」を「ClaudeCode で実現」へ：** 思考の転換
- 📚 **学習の進め方：** 基本 → カスタマイズ → チーム活用への段階

---

## 🌟 Session 05 を終えて

Session 01-04 で学んだ知識は、**単なる「使い方」ではなく、「開発効率化の思考法」** です。

ClaudeCode を使う中で：

- 「このコードパターン、ClaudeCode なら即座に実装できる」
- 「ドキュメント更新、自動化できるな」
- 「複雑な要件も、プランモードなら整理できる」

こういう「気づき」が増えていきます。

そして最終的に：

> **Claude + ClaudeCode + 自分のスキル = 個人としての開発力が 10 倍以上になる**

このワークショップシリーズが、あなたの開発の加速に少しでも貢献できたら幸いです。

💡 **「ClaudeCode で何ができるか」から「ClaudeCode で自分は何ができるか」へ。**

**次のステップは、あなたのプロジェクトで実践することです。頑張ってください！**
